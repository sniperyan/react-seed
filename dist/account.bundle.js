webpackJsonp(["account"],{"491c6S4p":function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8wAUAV"),r=n(l),s=a("Zx67aMzV"),i=n(s),o=a("ZrlrdyRl"),c=n(o),d=a("wxAWXU5K"),u=n(d),m=a("zwoOJdCg"),f=n(m),p=a("Pf15lzEx"),A=n(p),h=a("xQROjSzg"),g=n(h),E=a("GiK3r5kD"),v=n(E),b=a("pAQWTaDD"),x=a("6KlIuleq"),N=a("RH2OZSPu"),y=a("2KeSMhYv"),k=a("Jy7aB/gW"),C=a("63+Y4duh"),w=function(t){function a(){var t,n,l,r;(0,c.default)(this,a);for(var s=arguments.length,o=Array(s),d=0;d<s;d++)o[d]=arguments[d];return n=l=(0,f.default)(this,(t=a.__proto__||(0,i.default)(a)).call.apply(t,[this].concat(o))),l.state={},l.handleAvatar=function(t){var a=t.target;if(0===a.files.length)return!1;var n=new FormData;n.append("file",a.files[0]),e.post("/common/ajax/upload",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data,a=t.list[0].path;l.props.updateMember({memberAvatar:a})}).finally(function(){return a.value=""})},l.handleNick=function(){var e=l.props,t=e.member,a=e.actions;a.openModal({title:"修改昵称",message:v.default.createElement("div",{className:"list compact form"},v.default.createElement("label",{className:"item"},v.default.createElement("span",{className:"label text-right","ui-mode":"48px"},"昵称"),v.default.createElement("div",{className:"text"},v.default.createElement("input",{ref:function(e){return l.input=e},className:"input",placeholder:"请输入您的昵称",maxLength:"20",defaultValue:t.memberName})))),buttons:[{text:"取消",onClick:a.closeModal},{text:"确定",onClick:function(){var e=l.input.value;return e.trim()===t.memberName?a.closeModal():0===e.trim().length?a.openToast({icon:"failure",message:"请输入昵称"}):(a.closeModal(),void l.props.updateMember({memberName:e}))}}]})},l.handleGender=function(e){var t=e.target.value;l.props.updateMember({memberGender:t})},l.handleSign=function(){var e=l.props,t=e.member,a=e.actions;a.openModal({title:"修改个性签名",message:v.default.createElement("div",{className:"list compact form"},v.default.createElement("label",{className:"item"},v.default.createElement("span",{className:"label text-right","ui-mode":"48px"},"签名"),v.default.createElement("div",{className:"text"},v.default.createElement("input",{ref:function(e){return l.input=e},className:"input",placeholder:"最多36个字...",maxLength:"36",defaultValue:t.memberSignature})))),buttons:[{text:"取消",onClick:a.closeModal},{text:"确定",onClick:function(){var e=l.input.value;return e.trim()===t.memberSignature?a.closeModal():0===e.trim().length?a.openToast({icon:"failure",message:"请输入签名"}):(a.closeModal(),void l.props.updateMember({memberSignature:e}))}}]})},r=n,(0,f.default)(l,r)}return(0,A.default)(a,t),(0,u.default)(a,[{key:"componentDidMount",value:function(){var t=this;e.get("/account/ajax/promoter",{cache:!0}).then(function(e){var a=e.data;t.setState({promoter:a})})}},{key:"render",value:function(){var e=this,t=this.state.promoter,a=this.props,n=a.member,l=a.project,r=a.modal,s=a.toast;return v.default.createElement(b.View,{className:g.default.settings},v.default.createElement(b.Header,null,v.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},v.default.createElement("i",{className:"icon"},"")),v.default.createElement(b.Title,{title:"我的资料"})),v.default.createElement(b.Content,null,v.default.createElement("div",{className:"list compact overlap"},v.default.createElement("div",{className:"item"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-aea91c98-c87d-453c-b2ce-048b74772acc.png"})),v.default.createElement("div",{className:"text"},"头像"),v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"40",height:"40",src:x.Filter.thumb(n.memberAvatar,150,150)}),v.default.createElement("input",{type:"file",name:"file",onChange:this.handleAvatar})),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("div",{className:"item",onClick:this.handleNick},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-ebadc6cf-0241-4053-b901-358d621ec3ce.png"})),v.default.createElement("span",{className:"text"},"昵称"),v.default.createElement("span",{className:"extra"},n.memberName),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("label",{className:"item"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-5b5bd99d-8ec9-480f-b124-9ab33284677e.png"})),v.default.createElement("span",{className:"label"},"性别"),v.default.createElement("div",{className:"text text-gray"},v.default.createElement("select",{className:"select",dir:"rtl",defaultValue:n.memberGender,onChange:this.handleGender},v.default.createElement("option",{value:"1"},"男"),v.default.createElement("option",{value:"0"},"女"),v.default.createElement("option",{value:"-1"},"保密"))),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("div",{className:"item",onClick:this.handleSign},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-c8c98888-939d-4104-87d1-44ed0d2f854c.png"})),v.default.createElement("span",{className:"text"},"个性签名"),v.default.createElement("span",{className:"extra"},n.memberSignature),v.default.createElement("i",{className:"icon text-gray"},""))),v.default.createElement("div",{className:"list"},v.default.createElement("a",{className:"item",href:"/house"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-01261f56-8353-44e1-b5b7-d55dd28cf799.png"})),v.default.createElement("span",{className:"text"},"我的房屋"),v.default.createElement("span",{className:"extra"},l.name),v.default.createElement("i",{className:"icon text-gray"},"")),t&&t.support&&v.default.createElement("a",{className:"item",href:"/promoter"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-5b406fb6-7cce-436b-a5ce-fe45ccbaefce.png"})),v.default.createElement("span",{className:"text"},"我的推广码"),v.default.createElement("span",{className:"extra"},t.agreement?"有推广码":"没有推广码"),v.default.createElement("i",{className:"icon text-gray"},""))),x.Env.is("wx")&&!n.memberMobile&&v.default.createElement("div",{className:"list"},v.default.createElement("a",{className:"item",href:"/account/improve"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-b3794852-6b3f-4eca-aecd-3917068d041a.png"})),v.default.createElement("span",{className:"text"},"未绑定手机"),v.default.createElement("i",{className:"icon text-gray"},""))),!x.Env.is("wx")&&!x.Env.is("ali")&&v.default.createElement("div",{className:"list"},v.default.createElement("a",{className:"item",href:"/account/logout"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-ffe29b9d-fb3a-48aa-98f5-f551634576c8.png"})),v.default.createElement("span",{className:"text"},"退出登录"),v.default.createElement("i",{className:"icon text-gray"},"")))),v.default.createElement(b.Widgets,null,v.default.createElement(b.Modal,r),v.default.createElement(b.Toast,s)))}}]),a}(E.Component),B=function(e){return(0,r.default)({},e.modules.account.settings,{member:e.member,project:e.project})},D=function(e){return{actions:(0,y.bindActionCreators)(k.actions,e),updateMember:function(t){return e((0,C.updateMember)(t))}}};t.default=(0,N.connect)(B,D)(w)}).call(t,a("mtWMgkpO"))},"6NABtlvG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Zx67aMzV"),r=n(l),s=a("ZrlrdyRl"),i=n(s),o=a("wxAWXU5K"),c=n(o),d=a("zwoOJdCg"),u=n(d),m=a("Pf15lzEx"),f=n(m),p=a("GiK3r5kD"),A=n(p),h=a("pAQWTaDD"),g=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this;return A.default.createElement(h.View,null,A.default.createElement(h.Header,null,A.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},A.default.createElement("i",{className:"icon"},"")),A.default.createElement(h.Title,{title:"千丁券使用说明"})),A.default.createElement(h.Content,null,A.default.createElement("article",{className:"article"},A.default.createElement("section",null,A.default.createElement("p",null,"1. 千丁券需在有效期内使用，过期无效。使用千丁券时，千丁券优惠部分不开具发票。"),A.default.createElement("p",null,"2. 每张千丁券均有适用的服务，在使用券时,只能选取该服务适用的千丁券。点击千丁券后，在券的详情页可查看该券适用的服务。"),A.default.createElement("p",null,"3. 在手机APP上或线下付款时，都可以使用千丁券。经验证通过后，券金额即可抵扣相应的订单金额。"),A.default.createElement("p",null,"4. 一个订单，只能使用一张千丁券；千丁券不与其他任何优惠同时使用。"),A.default.createElement("p",null,"5. 每张千丁券只能使用一次，千丁券不找零、不可兑换为现金或其它等价物。"),A.default.createElement("p",null,"6. 千丁券不记名，不挂失，不可出售与转让，不可购买其他千丁券类产品。"),A.default.createElement("p",null,"7. 在相关法律允许范围内，千丁互联享有对千丁券的最终解释权。"),A.default.createElement("p",null,"8. 使用千丁券购买的产品，支持签收前整单或部分退款，因消费者自身原因发起的退款，已使用的千丁券会直接作废；因平台原因引发的退款，消费者可向客服中心提出退换千丁券申请（联系电话：4000818181），经千丁平台审核通过之后会依据千丁券规则发放等值的千丁券到消费者的千丁钱包。")))))}}]),t}(p.Component);t.default=g},"7xlqOMQM":function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("d7EFnVG0"),r=n(l),s=a("Dd8wAUAV"),i=n(s),o=a("Gu7Tm2+A"),c=n(o),d=a("Zx67aMzV"),u=n(d),m=a("ZrlrdyRl"),f=n(m),p=a("wxAWXU5K"),A=n(p),h=a("zwoOJdCg"),g=n(h),E=a("Pf15lzEx"),v=n(E),b=a("GiK3r5kD"),x=n(b),N=a("2KeSMhYv"),y=a("RH2OZSPu"),k=a("63+Y4duh"),C=a("SWJbbvf8"),w=a("pAQWTaDD"),B=function(t){function a(t){(0,f.default)(this,a);var n=(0,g.default)(this,(a.__proto__||(0,u.default)(a)).call(this,t));return n.updateBasic=function(e){var t=n.props.address;t[e.target.name]=e.target.value,n.props.actions.updateAddress(t)},n.handleDistrict=function(){var e=n.props.address;n.setState({district:{show:!0,title:"选择地区",pvid:e.provinceId,ctid:e.cityId,arid:e.areaId,dismiss:function(){return n.closeDistrict()},onCancel:function(){return n.closeDistrict()},onConfirm:function(e,t){return n.updateDistrict(e,t)}}})},n.handleProject=function(){var t=n.props.address;if(!t.provinceId||!t.cityId||!t.areaId)return n.props.actions.openToast({icon:"failure",message:"请先选择地区"});n.props.actions.closeToast(),e.get("/account/ajax/projects",{params:{cityId:t.cityId,areaId:t.areaId},cache:!0}).then(function(e){for(var t=e.data,a=[].concat((0,c.default)(t.list)),l=a.length-1;l>=0;l--){var r=a[l-1],s=a[l];r&&s.letter===r.letter||a.splice(l,0,{name:s.letter,disabled:!0})}a.push({name:"^_^|||",disabled:!0}),a.push({id:0,name:"其他社区"}),n.setState({projects:a,picker:{show:!0,title:"选择社区",adjust:!0,selected:[n.getIndex("PROJECT",a)],groups:[{items:a,label:"name"}],dismiss:function(){return n.closePicker()},onCancel:function(){return n.closePicker()},onConfirm:function(e,t){return n.updateProject(e,t)}}})})},n.handleGroups=function(){var t=n.props.address;if(!t.projectId)return n.props.actions.openToast({icon:"failure",message:"请先选择社区"});n.props.actions.closeToast(),e.get("/account/ajax/groups",{params:{projectId:t.projectId},cache:!0}).then(function(e){var t=e.data,a=t.list.map(function(e){return{id:e.groupId,label:e.groupName,address:e.groupAddress}});n.setState({groups:a,picker:{show:!0,title:"选择组团",selected:[n.getIndex("GROUP",a)],groups:[a],dismiss:function(){return n.closePicker()},onCancel:function(){return n.closePicker()},onConfirm:function(e,t){return n.updateGroup(e,t)}}})})},n.handleHouse=function(){var t=n.props.address;return t.projectId?t.hasGroup&&!t.groupId?n.props.actions.openToast({icon:"failure",message:"请先选择组团"}):(n.props.actions.closeToast(),void e.get(t.groupName?"/account/ajax/grooms":"/house/ajax/list",{params:{projectId:t.projectId,groupName:t.groupName},cache:!0}).then(function(e){var t=e.data,a=t.list.map(function(e){return e=e.room||e,{id:e.id,label:e.name}});a.push({id:0,label:"其他房屋"}),n.setState({houses:a,picker:{show:!0,title:"选择房屋",selected:[n.getIndex("HOUSE",a)],groups:[a],dismiss:function(){return n.closePicker()},onCancel:function(){return n.closePicker()},onConfirm:function(e,t){return n.updateHouse(e,t)}}})})):n.props.actions.openToast({icon:"failure",message:"请先选择社区"})},n.handleSubmit=function(){var t=n.checkAddress();if(t)return n.props.actions.openToast({icon:"failure",message:t});var a=(0,i.default)({},n.props.address);0===a.projectId&&(delete a.projectId,delete a.projectName),0===a.roomId&&(delete a.roomId,delete a.roomName),n.props.actions.closeToast(),e.post("/account/ajax/address",a).then(function(){var e=n.props.match.params;n.props.destroy("addresses"),n.props.actions.openToast({icon:"success",message:e.id?"编辑成功":"新增成功",modal:!0}),n.timer=setTimeout(function(){return history.back()},1500)})},n.state={houses:[],groups:[],projects:[],picker:{},district:{}},n}return(0,v.default)(a,t),(0,A.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.actions.fetchAddress(e.id)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"closeDistrict",value:function(){var e=this.state.district;e&&(e.show=!1,this.setState({district:e}))}},{key:"closePicker",value:function(){var e=this.state.picker;e&&(e.show=!1,this.setState({picker:e}))}},{key:"updateDistrict",value:function(e){this.closeDistrict();var t=this.props.address,a=(0,r.default)(e,3),n=a[0],l=a[1],s=a[2];n.id===t.provinceId&&l.id===t.cityId&&s.id===t.areaId||(t.provinceId=n.id,t.provinceName=n.label,t.cityId=l.id,t.cityName=l.label,t.areaId=s.id,t.areaName=s.label,this.resetUnder("DISTRICT"),this.props.actions.updateAddress(t))}},{key:"updateProject",value:function(t){var a=this;this.closePicker();var n=this.props.address,l=(0,r.default)(t,1),s=l[0];n.projectId!==s.id&&(n.projectId=s.id,n.projectName=s.name,n.street=s.street,this.resetUnder("PROJECT"),0===s.id?(n.hasGroup=!1,this.props.actions.updateAddress(n)):e.get("/location/ajax/project",{params:{id:s.id},cache:!0}).then(function(e){var t=e.data;n.hasGroup=t.groups.length>0,a.props.actions.updateAddress(n)}))}},{key:"updateGroup",value:function(e){this.closePicker();var t=this.props.address,a=(0,r.default)(e,1),n=a[0];t.groupId!==n.id&&(t.groupId=n.id,t.groupName=n.label,t.groupAddress=n.address,this.resetUnder("GROUP"),this.props.actions.updateAddress(t))}},{key:"updateHouse",value:function(e){this.closePicker();var t=this.props.address,a=(0,r.default)(e,1),n=a[0];t.roomId!==n.id&&(t.roomId=n.id,t.roomName=n.label,this.resetUnder("HOUSE"),this.props.actions.updateAddress(t))}},{key:"checkAddress",value:function(){var e=null,t=this.props.address;return t.name?t.mobile?/^\d{11}$/.test(t.mobile)?t.provinceId&&t.cityId&&t.areaId?t.projectId||t.projectName?t.hasGroup&&!t.groupId?e="请选择组团":!t.projectId||t.roomId||t.roomName?t.roomId||t.address||(e="请填写地址"):e="请选择房屋":e="请选择社区":e="请选择地区":e="手机格式错误":e="请填写手机":e="请填写姓名",e}},{key:"getIndex",value:function(e,t){var a=this.props.address;return"HOUSE"===e?t.findIndex(function(e){return e.id==a.roomId}):"GROUP"===e?t.findIndex(function(e){return e.id==a.groupId}):"PROJECT"===e?t.findIndex(function(e){return e.id==a.projectId}):-1}},{key:"resetUnder",value:function(e){var t=this.props.address,a=["DISTRICT","PROJECT","GROUP","HOUSE"].indexOf(e);a<=0&&(t.projectId=null,t.projectName=null,t.street=null),a<=1&&(t.groupId=null,t.groupName=null,t.groupAddress=null,t.hasGroup=!1),a<=2&&(t.roomId=null,t.roomName=null,t.address=null),a<=3&&(t.address=null)}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=this.props,n=a.toast,l=a.address,r=this.state,s=r.picker,i=r.district;return x.default.createElement(w.View,null,x.default.createElement(w.Header,null,x.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},x.default.createElement("i",{className:"icon"},"")),x.default.createElement(w.Title,{title:t.id?"编辑地址":"新增地址"})),x.default.createElement(w.Content,null,x.default.createElement("div",{className:"list compact overlap"},x.default.createElement("label",{className:"item"},x.default.createElement("span",{className:"label"},"姓名"),x.default.createElement(w.Input,{className:"input",type:"text",placeholder:"联系人姓名",name:"name",value:l.name||"",maxLength:"20",onChange:this.updateBasic})),x.default.createElement("label",{className:"item"},x.default.createElement("span",{className:"label"},"手机"),x.default.createElement(w.Input,{className:"input",type:"tel",pattern:"[0-9]*",placeholder:"联系人手机",name:"mobile",value:l.mobile||"",maxLength:"11",onChange:this.updateBasic}))),x.default.createElement("div",{className:"list"},x.default.createElement("div",{className:"item tapable",onClick:this.handleDistrict},x.default.createElement("span",{className:"label"},"所在地区"),!l.provinceId&&x.default.createElement("div",{className:"text text-right text-gray"},"请选择"),l.provinceId&&x.default.createElement("div",{className:"text text-right"},l.provinceName,"-",l.cityName,"-",l.areaName||"其他地区"),x.default.createElement("i",{className:"icon text-gray"},"")),x.default.createElement("div",{className:"item tapable",onClick:this.handleProject},x.default.createElement("span",{className:"label"},"所属社区"),!l.projectName&&x.default.createElement("div",{className:"text text-right text-gray"},x.default.createElement("span",null,"请选择"),x.default.createElement("div",{className:"brief text-gray"},"...")),l.projectName&&x.default.createElement("div",{className:"text text-right"},x.default.createElement("span",null,l.projectName),x.default.createElement("div",{className:"brief text-ellipsis"},l.street||"未知")),x.default.createElement("i",{className:"icon text-gray"},"")),l.hasGroup&&x.default.createElement("div",{className:"item tapable",onClick:this.handleGroups},x.default.createElement("span",{className:"label"},"所属组团"),!l.groupId&&x.default.createElement("div",{className:"text text-right text-gray"},"请选择"),l.groupId&&x.default.createElement("div",{className:"text text-right"},l.groupName),x.default.createElement("i",{className:"icon text-gray"},"")),0!==l.projectId&&x.default.createElement("div",{className:"item tapable",onClick:this.handleHouse},x.default.createElement("span",{className:"label"},"所属房屋"),!l.roomName&&x.default.createElement("div",{className:"text text-right text-gray"},"请选择"),l.roomName&&x.default.createElement("div",{className:"text text-right"},l.roomName),x.default.createElement("i",{className:"icon text-gray"},"")),!l.roomId&&x.default.createElement("div",{className:"item"},x.default.createElement("div",{className:"text"},x.default.createElement("textarea",{className:"textarea",rows:"3",placeholder:"请填写详细地址",name:"address",maxLength:100,value:l.address||"",onChange:this.updateBasic}),x.default.createElement("div",{className:"textarea-counter"},x.default.createElement("span",null,(l.address||"").length),"/100"))))),x.default.createElement(w.Footer,null,x.default.createElement("button",{className:"button driving square",onClick:this.handleSubmit},"保存地址")),x.default.createElement(w.Widgets,null,x.default.createElement(w.Toast,n),x.default.createElement(w.Picker,s),x.default.createElement(w.District,i)))}}]),a}(b.Component),D=function(e){return e.modules.account.address},I=function(e){return{actions:(0,N.bindActionCreators)(C.actions,e),destroy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"address";return e((0,k.destroy)("account",t))}}};t.default=(0,y.connect)(D,I)(B)}).call(t,a("mtWMgkpO"))},BI4oSBlp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a("xQROjSzg");var l=a("GiK3r5kD"),r=n(l),s=a("F8kArY4h"),i=a("1Ss0+nTi"),o=a("x2scdv+I"),c=n(o),d=a("bw4wv5VR"),u=n(d),m=a("7xlqOMQM"),f=n(m),p=a("kzq1aw/K"),A=n(p),h=a("HMLX62iw"),g=n(h),E=a("6NABtlvG"),v=n(E),b=a("JdyD788N"),x=n(b),N=a("491c6S4p"),y=n(N),k=function(e){var t=e.location;return r.default.createElement(s.Switch,{location:t},r.default.createElement(s.Route,{exact:!0,path:"/account",component:c.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/orders",component:u.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/address/:id?",component:f.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/addresses/:choose?/:lock?",component:A.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/settings",component:y.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/coupons",component:g.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/coupon/protocol",component:v.default}),r.default.createElement(s.Route,{exact:!0,path:"/account/coupon/:code",component:x.default}),r.default.createElement(s.Route,{component:i.NoMatch}))};t.default=k},HMLX62iw:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8wAUAV"),r=n(l),s=a("Zx67aMzV"),i=n(s),o=a("ZrlrdyRl"),c=n(o),d=a("wxAWXU5K"),u=n(d),m=a("zwoOJdCg"),f=n(m),p=a("Pf15lzEx"),A=n(p),h=a("xQROjSzg"),g=n(h),E=a("GiK3r5kD"),v=n(E),b=a("HW6MJIrj"),x=n(b),N=a("2KeSMhYv"),y=a("RH2OZSPu"),k=a("pAQWTaDD"),C=a("6KlIuleq"),w=a("KW8zOwSP"),B=function(t){function a(){var t,n,l,r;(0,c.default)(this,a);for(var s=arguments.length,o=Array(s),d=0;d<s;d++)o[d]=arguments[d];return n=l=(0,f.default)(this,(t=a.__proto__||(0,i.default)(a)).call.apply(t,[this].concat(o))),l.state={code:"",show:!1},l.loaderCallback=function(e){l.props.actions.fetched(e)},l.handleChange=function(e){l.setState({code:e.target.value})},l.sendRequest=function(){var t=l.state.code,a=l.props.actions;if(0===t.length)return a.openToast({icon:"failure",message:"请输入券编号"});l.setState({code:"",show:!1}),e.post("/account/ajax/coupon",{code:t}).then(function(){a.openToast({icon:"success",message:"添加成功"}),l.loader.refresh()})},r=n,(0,f.default)(l,r)}return(0,A.default)(a,t),(0,u.default)(a,[{key:"queryParams",value:function(){switch(this.props.tabIndex){case 1:return{status:2};case 2:return{status:1};case 3:return{status:3}}}},{key:"render",value:function(){var e=this,t={1:"未使用",2:"已使用",3:"已过期",4:"已作废",5:"未生效",6:"已锁定"},a=this.props,n=a.tabIndex,l=a.list,r=a.actions,s=a.toast;return v.default.createElement(k.View,{className:g.default.coupons},v.default.createElement(k.Header,null,v.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},v.default.createElement("i",{className:"icon"},"")),v.default.createElement(k.Title,{title:"消息中心"})),v.default.createElement(k.Content,null,v.default.createElement("div",{className:"navbar underline driving overlap"},v.default.createElement("a",{className:(0,x.default)("item",{active:1===n}),onClick:function(){return r.activeTab(1)}},"未使用"),v.default.createElement("a",{className:(0,x.default)("item",{active:2===n}),onClick:function(){return r.activeTab(2)}},"已使用"),v.default.createElement("a",{className:(0,x.default)("item",{active:3===n}),onClick:function(){return r.activeTab(3)}},"已过期")),v.default.createElement(k.Loader,{ref:function(t){return e.loader=t},url:"/account/ajax/coupons",query:this.queryParams(),list:l,callback:this.loaderCallback},l.map(function(e){return v.default.createElement(k.BLink,{key:e.code,className:"list",to:"/account/coupon/"+e.code},v.default.createElement("div",{className:"item","ui-mode":"15px"},v.default.createElement("span",{className:"price text-driving"},"￥",v.default.createElement("i",null,e.price)),v.default.createElement("div",{className:"text text-dark"},v.default.createElement("span",{className:"text-sm"},e.productNoNames),v.default.createElement("p",{className:"brief"},C.Filter.date(e.startTime,"yyyy-MM-dd")," 至 ",C.Filter.date(e.endTime,"yyyy-MM-dd"))),1!==e.status&&v.default.createElement("div",{className:"status"},t[e.status]||"已禁用")))}))),v.default.createElement(k.Footer,null,v.default.createElement("div",{className:"button-group compact"},v.default.createElement(k.BLink,{className:"button literal square text-dark",to:"/account/coupon/protocol"},"使用说明"),v.default.createElement("button",{className:"button driving square",onClick:function(){return e.setState({show:!0})}},"添加千丁券"))),v.default.createElement(k.Widgets,null,v.default.createElement(k.Modal,{show:this.state.show,title:"添加千丁券",message:v.default.createElement("div",{className:"list compact form"},v.default.createElement("label",{className:"item"},v.default.createElement("span",{className:"label text-right","ui-mode":"48px"},"编号"),v.default.createElement("div",{className:"text"},v.default.createElement("input",{className:"input",placeholder:"请输入您的券编号",maxLength:"50",value:this.state.code,onChange:this.handleChange})))),buttons:[{text:"取消",onClick:function(){return e.setState({show:!1})}},{text:"确定",onClick:this.sendRequest}]}),v.default.createElement(k.Toast,s)))}}]),a}(E.Component),D=function(e){return(0,r.default)({},e.modules.account.coupons)},I=function(e){return{actions:(0,N.bindActionCreators)(w.actions,e)}};t.default=(0,y.connect)(D,I)(B)}).call(t,a("mtWMgkpO"))},JdyD788N:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Zx67aMzV"),r=n(l),s=a("ZrlrdyRl"),i=n(s),o=a("wxAWXU5K"),c=n(o),d=a("zwoOJdCg"),u=n(d),m=a("Pf15lzEx"),f=n(m),p=a("GiK3r5kD"),A=n(p),h=a("pAQWTaDD"),g=a("6KlIuleq"),E=function(t){function a(){var e,t,n,l;(0,i.default)(this,a);for(var s=arguments.length,o=Array(s),c=0;c<s;c++)o[c]=arguments[c];return t=n=(0,u.default)(this,(e=a.__proto__||(0,r.default)(a)).call.apply(e,[this].concat(o))),n.state={},l=t,(0,u.default)(n,l)}return(0,f.default)(a,t),(0,c.default)(a,[{key:"componentDidMount",value:function(){var t=this,a=this.props.match;e.get("/account/ajax/coupon",{params:{code:a.params.code},cache:!0}).then(function(e){var a=e.data;t.setState({coupon:a.entity})})}},{key:"renderSesc",value:function(){var e=this.state.coupon;if(4===e.templateType){return(e.desc||"运营同学很懒，什么都没有填写").split("\n").map(function(e,t){return A.default.createElement("p",{key:t},e)})}return A.default.createElement("section",null,A.default.createElement("p",null,"1. 本券适用范围：",e.productNoNames.join(",")),A.default.createElement("p",null,"2. 本券",1===e.isExclusive?"不":"","可以与其它千丁券共同使用"),A.default.createElement("p",null,"3. 本券适用于",0===e.isAllProject?e.projectName.join(",")||"当前社区":"所有社区"))}},{key:"render",value:function(){var e=this,t={1:"千丁券",2:"千丁券",3:"物业券",4:"折扣券"},a={1:"未使用",2:"已使用",3:"已过期",4:"已作废",5:"未生效",6:"已锁定"},n=this.state.coupon;return A.default.createElement(h.View,null,A.default.createElement(h.Header,null,A.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},A.default.createElement("i",{className:"icon"},"")),A.default.createElement(h.Title,{title:"千丁券详情"})),A.default.createElement(h.Content,null,n&&A.default.createElement("div",{className:"list compact overlap"},A.default.createElement("div",{className:"item"},A.default.createElement("div",{className:"text"},A.default.createElement("p",{className:"text-justify"},A.default.createElement("span",{className:"label"},"状态"),A.default.createElement("span",{className:"value"},a[n.status]||"已禁用")))),A.default.createElement("div",{className:"item"},A.default.createElement("div",{className:"text"},A.default.createElement("p",{className:"text-justify"},A.default.createElement("span",{className:"label text-gray"},"编号"),A.default.createElement("span",{className:"value"},"NO.",n.code)),A.default.createElement("p",{className:"text-justify"},A.default.createElement("span",{className:"label text-gray"},"面值"),A.default.createElement("span",{className:"value text-driving"},A.default.createElement("span",{className:"text-xs"},"￥"),n.price)),A.default.createElement("p",{className:"text-justify"},A.default.createElement("span",{className:"label text-gray"},"类型"),A.default.createElement("span",{className:"value"},t[n.templateType]||"千丁券")),A.default.createElement("p",{className:"text-justify"},A.default.createElement("span",{className:"label text-gray"},"有效期"),A.default.createElement("span",{className:"value"},g.Filter.date(n.startTime,"yyyy/MM/dd")," - ",g.Filter.date(n.endTime,"yyyy/MM/dd")))))),n&&A.default.createElement("article",{className:"article"},A.default.createElement("h3",null,"使用须知："),A.default.createElement("section",{className:"text-darkgray"},this.renderSesc()))))}}]),a}(p.Component);t.default=E}).call(t,a("mtWMgkpO"))},bw4wv5VR:function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8wAUAV"),r=n(l),s=a("bOdIgMcp"),i=n(s),o=a("Zx67aMzV"),c=n(o),d=a("ZrlrdyRl"),u=n(d),m=a("wxAWXU5K"),f=n(m),p=a("zwoOJdCg"),A=n(p),h=a("Pf15lzEx"),g=n(h),E=a("xQROjSzg"),v=n(E),b=a("GiK3r5kD"),x=n(b),N=a("HW6MJIrj"),y=n(N),k=a("2KeSMhYv"),C=a("RH2OZSPu"),w=a("pAQWTaDD"),B=a("6KlIuleq"),D=a("ns5lvECN"),I=function(e){function t(){return(0,u.default)(this,t),(0,A.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,f.default)(t,[{key:"details",value:function(){var e=this.props.order,t=e.orderGoods;return 1===t.length?x.default.createElement(w.Aux,null,x.default.createElement("div",{className:"avatar"},x.default.createElement("img",{width:"60",height:"60px",src:B.Filter.thumb(t[0].skuImgUrl[0],60,60)})),x.default.createElement("div",{className:"text"},x.default.createElement("h4",{className:"text-ellipsis"},t[0].goodsName),x.default.createElement("div",{className:"brief truncate"},B.Filter.truncate(t[0].goodsDesc,50)))):t.slice(0,4).map(function(e,t){return x.default.createElement("div",{key:t,className:"avatar"},x.default.createElement("img",{width:"60",height:"60px",src:B.Filter.thumb(e.skuImgUrl[0],60,60)}))})}},{key:"render",value:function(){var e=this.props.order;return x.default.createElement("div",{key:e.orderCode,className:"list"},x.default.createElement("div",{className:"item text-md"},x.default.createElement("div",{className:"text"},e.businessName),x.default.createElement("div",{className:"extra"},e.orderStatusName)),x.default.createElement(w.BLink,{className:"item","ui-mode":"15px",skip:!0,to:e.skipModel},this.details()),x.default.createElement("div",{className:"item"},x.default.createElement("div",{className:"text text-sm"},"价格: ",x.default.createElement("span",{className:"text-driving"},B.Filter.currency(e.shouldPay))),x.default.createElement("div",{className:"extra"},x.default.createElement("div",{className:"button-group"},e.btnSkipList.map(function(t){var a=e.orderCode,n=e.shouldPay,l=e.businessType;return 1==t.btnType?x.default.createElement("div",{key:a,className:"button driving sm",onClick:function(){return B.JSBridge.payment({code:a,price:n,business:l})}},t.btnName):x.default.createElement(w.BLink,{key:a,className:"button driving sm",skip:!0,to:t.skipModel},t.btnName)}),x.default.createElement(w.BLink,{className:"button default sm",skip:!0,to:e.skipModel},"查看详情")))))}}]),t}(b.Component),M=function(t){function a(e){(0,u.default)(this,a);var t=(0,A.default)(this,(a.__proto__||(0,c.default)(a)).call(this,e));return t.loaderCallback=function(e){t.props.actions.fetchOrders(e)},t.state={type:0,business:null,botypes:[{name:"全部服务",type:null}],odtypes:[{name:"全部订单",type:0},{name:"代付款",type:1},{name:"待评价",type:2}]},t}return(0,g.default)(a,t),(0,f.default)(a,[{key:"componentDidMount",value:function(){var t=this;e.get("/account/ajax/botypes",{global:!1}).then(function(e){var a=e.data;t.setState({botypes:t.state.botypes.concat(a.list.map(function(e){return{name:e.businessName,type:e.businessType}}))})})}},{key:"openWidget",value:function(e){this.setState((0,i.default)({},e,!0))}},{key:"closeWidget",value:function(e){this.setState((0,i.default)({},e,!1))}},{key:"filterType",value:function(e){this.setState({type:e}),this.closeWidget("showB")}},{key:"filterBusiness",value:function(e){this.setState({business:e}),this.closeWidget("showA")}},{key:"render",value:function(){var e=this,t=this.props.orders,a=this.state,n=a.showA,l=a.showB,r=a.type,s=a.business,i=a.botypes,o=a.odtypes;return x.default.createElement(w.View,{className:v.default.orders},x.default.createElement(w.Header,null,x.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},x.default.createElement("i",{className:"icon"},"")),x.default.createElement(w.Title,{title:"我的订单"})),x.default.createElement(w.Content,null,x.default.createElement("div",{className:"flex compact filters text-md"},x.default.createElement("div",{className:"item",onClick:function(){return e.openWidget("showA")}},x.default.createElement("span",null,(i.find(function(e){return e.type==s})||i[0]).name),x.default.createElement("i",null,"▼")),x.default.createElement("div",{className:"item",onClick:function(){return e.openWidget("showB")}},x.default.createElement("span",null,(o.find(function(e){return e.type==r})||o[0]).name),x.default.createElement("i",null,"▼"))),x.default.createElement(w.Loader,{url:"/account/ajax/orders",query:{business:s,type:r},list:t,callback:this.loaderCallback},t.map(function(e){return x.default.createElement(I,{key:e.orderCode,order:e})}))),x.default.createElement(w.Widgets,null,x.default.createElement(w.Popup,{show:n,dismiss:function(){return e.closeWidget("showA")}},x.default.createElement(w.PopupHeader,{title:"业态类型"}),x.default.createElement("div",{className:"content"},x.default.createElement("div",{className:"menus"},i.map(function(t,a){return x.default.createElement("a",{key:a,className:(0,y.default)({selected:t.type==s}),onClick:e.filterBusiness.bind(e,t.type)},x.default.createElement("span",null,t.name))})))),x.default.createElement(w.Popup,{show:l,dismiss:function(){return e.closeWidget("showB")}},x.default.createElement(w.PopupHeader,{title:"订单状态"}),x.default.createElement("div",{className:"content"},x.default.createElement("div",{className:"menus"},o.map(function(t,a){return x.default.createElement("a",{key:a,className:(0,y.default)({selected:t.type==r}),onClick:e.filterType.bind(e,t.type)},x.default.createElement("span",null,t.name))}))))))}}]),a}(b.Component),_=function(e){return(0,r.default)({},e.modules.account.orders)},j=function(e){return{actions:(0,k.bindActionCreators)(D.actions,e)}};t.default=(0,C.connect)(_,j)(M)}).call(t,a("mtWMgkpO"))},"f+ef4lyP":function(e,t,a){t=e.exports=a("FZ+f8GH+")(!0),t.push([e.i,'.NdUli7iB .banner{position:relative;display:block;height:120px;background:#eee url(//img1.qdingnet.com/fe144c4fd2f9a4f1b34d2ae0feeaa78e.jpg?imageslim) 0 bottom no-repeat;background-size:100% auto}.NdUli7iB .banner .list{position:absolute;width:100%;top:50%;left:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.NdUli7iB .banner .list .item{color:#fff;background:transparent}.NdUli7iB .banner .list .item .brief{color:#fff}.NdUli7iB .banner .list .item:after,.NdUli7iB .banner .list .item:before{content:none}.NdUli7iB .banner .avatar{width:64px;height:64px;border-radius:50%;overflow:hidden;background-color:#fff;border:2px solid #fff}._1YbIA3t- .filters .item{line-height:44px;text-align:center;background-color:#fff}._1YbIA3t- .filters .item+.item{border-left:1px solid #e3e3e3}._1YbIA3t- .filters .item span{display:inline-block}._1YbIA3t- .filters .item i{display:inline-block;line-height:1;margin-left:10px;font-size:14px;color:#a9a9a9;-webkit-transform:scaleY(.7);-ms-transform:scaleY(.7);transform:scaleY(.7)}._1YbIA3t- .extra .button-group .button{min-width:76px}._1YbIA3t- .popup .menus{text-align:center;padding:5px}._1YbIA3t- .popup .menus:after{content:"\\200";visibility:hidden;clear:both;display:block;font-size:0;height:0}._1YbIA3t- .popup .menus a{position:relative;float:left;width:33.3333%;padding:5px;line-height:42px}._1YbIA3t- .popup .menus a span{position:relative;display:block;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}._1YbIA3t- .popup .menus a span:active{background-color:#f9f9f9}._1YbIA3t- .popup .menus a span:after{content:" ";position:absolute;top:0;left:0;width:200%;height:200%;border:1px solid #d9d9d9;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;border-radius:10px}._1YbIA3t- .popup .menus a.selected span{color:#fda413}._1YbIA3t- .popup .menus a.selected span:after{border-color:#fda413}._1XK3qTd3 .item .price{font-size:12px;margin-right:15px}._1XK3qTd3 .item i{display:inline-block;font-style:normal;font-size:36px;min-width:42px}._1XK3qTd3 .item .status{position:absolute;color:#fff;top:10px;right:-37px;padding:0 40px;font-size:12px;background-color:rgba(0,0,0,.3);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}._1XK3qTd3 .list.form,.twAVkExa .list.form{margin-left:-15px;margin-right:-15px}.twAVkExa .list>.item>.text+.avatar{position:relative;border-radius:50%;overflow:hidden;margin-right:0}.twAVkExa .list>.item>.text+.avatar input{position:absolute;top:0;left:0;opacity:0;font-size:100px}',"",{version:3,sources:["/Users/smilelegend/workstation/exui-react/src/modules/account/style.less","/Users/smilelegend/workstation/exui-react/style.less","/Users/smilelegend/workstation/exui-react/src/less/base/mixin/help.less","/Users/smilelegend/workstation/exui-react/src/less/base/mixin/text.less","/Users/smilelegend/workstation/exui-react/src/less/base/mixin/border.less"],names:[],mappings:"AAEA,kBAEI,kBAAA,AACA,cAAA,AACA,aAAA,AACA,2GAAA,AACA,yBAAA,CCFH,ADJD,wBASM,kBAAA,AACA,WAAA,AACA,QAAA,AACA,OAAA,AACA,mCAAA,+BAAA,0BAAA,CCFL,ADXD,8BAgBQ,WAAA,AACA,sBAAA,CCFP,ADfD,qCAoBU,UAAA,CCFT,ADKO,yEACE,YAAA,CCFT,ADtBD,0BAgCM,WAAA,AACA,YAAA,AACA,kBAAA,AACA,gBAAA,AACA,sBAAA,AACA,qBAAA,CCPL,ADcD,0BAIM,iBAAA,AACA,kBAAA,AACA,qBAAA,CCfL,ADiBK,gCACE,6BAAA,CCfP,ADMD,+BAaQ,oBAAA,CChBP,ADGD,4BAiBQ,qBAAA,AACA,cAAA,AACA,iBAAA,AACA,eAAA,AACA,cAAA,AACA,6BAAA,yBAAA,oBAAA,CCjBP,ADLD,wCA+BM,cAAA,CCvBL,ADRD,yBAqCI,kBAAA,AACA,WAAA,CC1BH,ACxDC,+BACE,eAAA,AACA,kBAAA,AACA,WAAA,AACA,cAAA,AACA,YAAA,AACA,QAAA,CD0DH,ADpBD,2BA0CM,kBAAA,AACA,WAAA,AACA,eAAA,AACA,YAAA,AACA,gBAAA,CCnBL,AD3BD,gCAiDQ,kBAAA,AACA,cAAA,AG/FN,WAAA,AACA,gBAAA,AACA,uBAAA,AACA,mBAAA,AACA,gBAAA,CF6ED,ADiBO,uCACE,wBAAA,CCfT,ADkBO,sCIrGN,YAAA,AACA,kBAAA,AACA,MAAA,AACA,OAAA,AACA,WAAA,AACA,YAAA,AACA,yBAAA,AACA,4BAAA,wBAAA,oBAAA,AACA,6BAAA,yBAAA,qBAAA,AJ+FQ,kBAAA,CCRT,ADaK,yCACE,aAAA,CCXP,ADaO,+CACE,oBAAA,CCXT,ADsBD,wBAGM,eAAA,AACA,iBAAA,CCtBL,ADkBD,mBAQM,qBAAA,AACA,kBAAA,AACA,eAAA,AACA,cAAA,CCvBL,ADYD,yBAeM,kBAAA,AACA,WAAA,AACA,SAAA,AACA,YAAA,AACA,eAAA,AACA,eAAA,AACA,gCAAA,AACA,gCAAA,4BAAA,uBAAA,CCxBL,ADoCD,2CAEI,kBAAA,AACA,kBAAA,CC/BH,AD4BD,oCAOI,kBAAA,AACA,kBAAA,AACA,gBAAA,AACA,cAAA,CChCH,ADsBD,0CAaM,kBAAA,AACA,MAAA,AACA,OAAA,AACA,UAAA,AACA,eAAA,CChCL",file:"style.less",sourcesContent:['@import "../../less/base/fn.less";\n\n:local(.home) {\n  .banner {\n    position: relative;\n    display: block;\n    height: 120px;\n    background: #eee url(//img1.qdingnet.com/fe144c4fd2f9a4f1b34d2ae0feeaa78e.jpg?imageslim) 0 bottom no-repeat;\n    background-size: 100% auto;\n\n    .list {\n      position: absolute;\n      width: 100%;\n      top: 50%;\n      left: 0;\n      transform: translateY(-50%);\n\n      .item {\n        color: #fff;\n        background: transparent;\n\n        .brief {\n          color: #fff;\n        }\n\n        &:before, &:after {\n          content: none;\n        }\n\n      }\n\n    }\n\n    .avatar {\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      overflow: hidden;\n      background-color: #fff;\n      border: 2px solid #fff;\n    }\n\n  }\n\n}\n\n:local(.orders) {\n  // 过滤\n  .filters {\n    .item {\n      line-height: 44px;\n      text-align: center;\n      background-color: #fff;\n\n      & + .item {\n        border-left: 1px solid @borderColor;\n      }\n\n      span {\n        display: inline-block;\n      }\n\n      i {\n        display: inline-block;\n        line-height: 1;\n        margin-left: 10px;\n        font-size: 14px;\n        color: @textColorGray;\n        transform: scale(1, 0.7);\n      }\n\n    }\n\n  }\n\n  .extra .button-group {\n    .button {\n      min-width: 76px;\n    }\n\n  }\n\n  .popup .menus {\n    text-align: center;\n    padding: 5px;\n    .clearfix();\n\n    a {\n      position: relative;\n      float: left;\n      width: 33.3333%;\n      padding: 5px;\n      line-height: 42px;\n\n      span {\n        position: relative;\n        display: block;\n        .ellipsis();\n\n        &:active {\n          background-color: @tabColor;\n        }\n\n        &:after {\n          .border();\n          border-radius: 10px;\n        }\n\n      }\n\n      &.selected span {\n        color: @textColorOrange;\n\n        &:after {\n          border-color: @textColorOrange;\n        }\n\n      }\n\n    }\n\n  }\n\n}\n\n:local(.coupons) {\n  .item {\n    .price {\n      font-size: 12px;\n      margin-right: 15px;\n    }\n\n    i {\n      display: inline-block;\n      font-style: normal;\n      font-size: 36px;\n      min-width: 42px;\n    }\n\n    .status {\n      position: absolute;\n      color: #fff;\n      top: 10px;\n      right: -37px;\n      padding: 0 40px;\n      font-size: 12px;\n      background-color: rgba(0, 0, 0, 0.3);\n      transform: rotate(45deg);\n    }\n\n  }\n\n  .list.form {\n    margin-left: -15px;\n    margin-right: -15px;\n  }\n\n}\n\n:local(.settings) {\n  .list.form {\n    margin-left: -15px;\n    margin-right: -15px;\n  }\n\n  .list > .item > .text + .avatar {\n    position: relative;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 0;\n\n    input {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      font-size: 100px;\n    }\n\n  }\n\n}\n',":local(.home) .banner {\n  position: relative;\n  display: block;\n  height: 120px;\n  background: #eee url(//img1.qdingnet.com/fe144c4fd2f9a4f1b34d2ae0feeaa78e.jpg?imageslim) 0 bottom no-repeat;\n  background-size: 100% auto;\n}\n:local(.home) .banner .list {\n  position: absolute;\n  width: 100%;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n}\n:local(.home) .banner .list .item {\n  color: #fff;\n  background: transparent;\n}\n:local(.home) .banner .list .item .brief {\n  color: #fff;\n}\n:local(.home) .banner .list .item:before,\n:local(.home) .banner .list .item:after {\n  content: none;\n}\n:local(.home) .banner .avatar {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  overflow: hidden;\n  background-color: #fff;\n  border: 2px solid #fff;\n}\n:local(.orders) .filters .item {\n  line-height: 44px;\n  text-align: center;\n  background-color: #fff;\n}\n:local(.orders) .filters .item + .item {\n  border-left: 1px solid #e3e3e3;\n}\n:local(.orders) .filters .item span {\n  display: inline-block;\n}\n:local(.orders) .filters .item i {\n  display: inline-block;\n  line-height: 1;\n  margin-left: 10px;\n  font-size: 14px;\n  color: #a9a9a9;\n  transform: scale(1, 0.7);\n}\n:local(.orders) .extra .button-group .button {\n  min-width: 76px;\n}\n:local(.orders) .popup .menus {\n  text-align: center;\n  padding: 5px;\n}\n:local(.orders) .popup .menus:after {\n  content: '\\0200';\n  visibility: hidden;\n  clear: both;\n  display: block;\n  font-size: 0;\n  height: 0;\n}\n:local(.orders) .popup .menus a {\n  position: relative;\n  float: left;\n  width: 33.3333%;\n  padding: 5px;\n  line-height: 42px;\n}\n:local(.orders) .popup .menus a span {\n  position: relative;\n  display: block;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n}\n:local(.orders) .popup .menus a span:active {\n  background-color: #f9f9f9;\n}\n:local(.orders) .popup .menus a span:after {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 200%;\n  height: 200%;\n  border: 1px solid #D9D9D9;\n  transform: scale(0.5);\n  transform-origin: 0 0;\n  border-radius: 10px;\n}\n:local(.orders) .popup .menus a.selected span {\n  color: #fda413;\n}\n:local(.orders) .popup .menus a.selected span:after {\n  border-color: #fda413;\n}\n:local(.coupons) .item .price {\n  font-size: 12px;\n  margin-right: 15px;\n}\n:local(.coupons) .item i {\n  display: inline-block;\n  font-style: normal;\n  font-size: 36px;\n  min-width: 42px;\n}\n:local(.coupons) .item .status {\n  position: absolute;\n  color: #fff;\n  top: 10px;\n  right: -37px;\n  padding: 0 40px;\n  font-size: 12px;\n  background-color: rgba(0, 0, 0, 0.3);\n  transform: rotate(45deg);\n}\n:local(.coupons) .list.form {\n  margin-left: -15px;\n  margin-right: -15px;\n}\n:local(.settings) .list.form {\n  margin-left: -15px;\n  margin-right: -15px;\n}\n:local(.settings) .list > .item > .text + .avatar {\n  position: relative;\n  border-radius: 50%;\n  overflow: hidden;\n  margin-right: 0;\n}\n:local(.settings) .list > .item > .text + .avatar input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  font-size: 100px;\n}\n","// mixin:clearfix\n.clearfix() {\n  &:after {\n    content: '\\0200';\n    visibility: hidden;\n    clear: both;\n    display: block;\n    font-size: 0;\n    height: 0;\n  }\n\n}\n\n// mixin:placeholder\n.autofix() {\n  position: relative;\n  display: block;\n  overflow: hidden;\n\n  & > img {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100%;\n    transform: translate(-50%, -50%);\n  }\n\n}\n\n// absolute 100% layout\n.absper() {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: block;\n}\n",".ellipsis(@w:auto) {\n  width: @w;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n}\n","// mixin:border\n.border(@c:#D9D9D9) {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 200%;\n  height: 200%;\n  border: 1px solid @c;\n  transform: scale(0.5);\n  transform-origin: 0 0;\n}\n\n.borderTop(@c:#D9D9D9) {\n  content: ' ';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid @c;\n  color: @c;\n  transform-origin: 0 0;\n  transform: scaleY(0.5);\n}\n\n.borderBottom(@c:#D9D9D9) {\n  content: ' ';\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 1px;\n  border-bottom: 1px solid @c;\n  color: @c;\n  transform-origin: 0 100%;\n  transform: scaleY(0.5);\n}\n\n.borderLeft(@c:#D9D9D9) {\n  content: ' ';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 1px;\n  bottom: 0;\n  border-left: 1px solid @c;\n  color: @c;\n  transform-origin: 0 0;\n  transform: scaleX(0.5);\n}\n\n.borderRight(@c:#D9D9D9) {\n  content: ' ';\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1px;\n  bottom: 0;\n  border-right: 1px solid @c;\n  color: @c;\n  transform-origin: 100% 0;\n  transform: scaleX(0.5);\n}\n"],sourceRoot:""}]),t.locals={home:"NdUli7iB",orders:"_1YbIA3t-",coupons:"_1XK3qTd3",settings:"twAVkExa"}},"kzq1aw/K":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8wAUAV"),r=n(l),s=a("bOdIgMcp"),i=n(s),o=a("Zx67aMzV"),c=n(o),d=a("ZrlrdyRl"),u=n(d),m=a("wxAWXU5K"),f=n(m),p=a("zwoOJdCg"),A=n(p),h=a("Pf15lzEx"),g=n(h),E=a("GiK3r5kD"),v=n(E),b=a("2KeSMhYv"),x=a("RH2OZSPu"),N=a("i5NN48B2"),y=a("63+Y4duh"),k=a("pAQWTaDD"),C=function(e){function t(e){(0,u.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.promptRestrict=function(e){a.setState({showB:!0,address:e})},a.state={address:null},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.list,a=e.actions;0===t.length&&a.fetchAddress()}},{key:"filterValid",value:function(){var e=this.props.match.params,t=this.props,a=t.list,n=void 0===a?[]:a,l=t.project;return e.lock?n.filter(function(e){return e.projectId==l.id}):n}},{key:"filterInValid",value:function(){var e=this.props.match.params,t=this.props,a=t.list,n=void 0===a?[]:a,l=t.project;return e.lock?n.filter(function(e){return e.projectId!=l.id}):[]}},{key:"handleDefault",value:function(e){this.props.actions.setDefault(e)}},{key:"promptDelete",value:function(e){this.setState({showA:!0,address:e})}},{key:"cancelPrompt",value:function(e){this.setState((0,i.default)({},e,!1))}},{key:"confirmDelete",value:function(){this.props.actions.deleteAddress(this.state.address),this.cancelPrompt("showA")}},{key:"handleClick",value:function(e,t){var a=this.props.project,n=this.props.match.params;if(n.choose)return t.preventDefault(),n.lock&&a.id!=e.projectId?this.promptRestrict(e):(this.props.chooseAddress(e),history.back())}},{key:"renderAddress",value:function(e){return v.default.createElement("div",{key:e.id,className:"list"},v.default.createElement(k.BLink,{className:"item","ui-mode":"15px",to:"/account/address/"+e.id,onClick:this.handleClick.bind(this,e)},v.default.createElement("i",{className:"icon text-xl text-darkgray"},""),v.default.createElement("div",{className:"text"},v.default.createElement("p",{className:"text-justify text-md"},v.default.createElement("span",null,e.name),v.default.createElement("span",{className:"value text-right"},e.mobile)),v.default.createElement("div",{className:"brief text-ellipsis"},e.addressStr)),v.default.createElement("i",{className:"icon"},"")),v.default.createElement("div",{className:"item"},v.default.createElement("label",{className:"text text-sm text-darkgray"},v.default.createElement("input",{className:"checkbox",type:"radio",name:"radio",checked:e.defaultFlag,onChange:this.handleDefault.bind(this,e)}),v.default.createElement("span",null,"设为默认")),v.default.createElement("div",{className:"extra"},v.default.createElement("div",{className:"button-group"},v.default.createElement(k.BLink,{className:"button default sm",to:"/account/address/"+e.id},v.default.createElement("i",{className:"icon"},""),"编辑"),v.default.createElement("a",{className:"button default sm",disabled:e.defaultFlag,onClick:this.promptDelete.bind(this,e)},v.default.createElement("i",{className:"icon"},""),"删除")))))}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=this.props,n=a.toast,l=a.list,r=a.loading,s=a.project;return v.default.createElement(k.View,null,v.default.createElement(k.Header,null,v.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},v.default.createElement("i",{className:"icon"},"")),v.default.createElement(k.Title,{title:t.choose?"选择地址":"收货地址"})),v.default.createElement(k.Content,null,!r&&0===l.length&&v.default.createElement("div",{className:"feedback"},v.default.createElement("div",{className:"mark"},v.default.createElement("img",{width:"197",height:"98",src:"//img1.qdingnet.com/c50aee1127e2b6a075250a6b26629bd2.png",alt:"空白"})),v.default.createElement("div",{className:"describe"},"还没有地址，去添加一个吧！"),v.default.createElement("div",{className:"vspace hspace"},v.default.createElement(k.BLink,{className:"button driving",to:"/account/address"},"新增地址"))),this.filterValid().map(function(t){return e.renderAddress(t)}),this.filterInValid().length>0&&v.default.createElement("div",{className:"divider text-gray","ui-mode":"20%"},"以下地址不在服务范围内"),this.filterInValid().map(function(t){return e.renderAddress(t)})),l.length>0&&v.default.createElement(k.Footer,null,v.default.createElement(k.BLink,{className:"button driving square",to:"/account/address"},v.default.createElement("i",{className:"icon"},""),"新增地址")),v.default.createElement(k.Widgets,null,v.default.createElement(k.Toast,n),v.default.createElement(k.ActionSheet,{show:this.state.showA,message:"您确认要删除这条记录吗？",dismiss:function(){return e.cancelPrompt("showA")},buttons:[[{text:"删除",className:"text-warning",onClick:function(){return e.confirmDelete()}}],[{text:"取消",onClick:function(){return e.cancelPrompt("showA")}}]]}),v.default.createElement(k.Modal,{show:this.state.showB,title:"温馨提示",message:v.default.createElement("div",null,"当前服务仅在 ",v.default.createElement("span",{className:"text-driving"},s.cityName,s.name)," 提供支持，请重选或编辑当前地址"),dismiss:function(){return e.cancelPrompt("showB")},buttons:[{text:"重选",onClick:function(){return e.cancelPrompt("showB")}},{text:"编辑",onClick:function(){e.cancelPrompt("showB");var t=e.state.address;e.props.history.push("/account/address/"+t.id)}}]})))}}]),t}(E.Component),w=function(e){return(0,r.default)({},e.modules.account.addresses,{project:e.project})},B=function(e){return{actions:(0,b.bindActionCreators)(N.actions,e),chooseAddress:function(t){return e((0,y.setAddress)(t))}}};t.default=(0,x.connect)(w,B)(C)},"x2scdv+I":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8wAUAV"),r=n(l),s=a("Zx67aMzV"),i=n(s),o=a("ZrlrdyRl"),c=n(o),d=a("wxAWXU5K"),u=n(d),m=a("zwoOJdCg"),f=n(m),p=a("Pf15lzEx"),A=n(p),h=a("xQROjSzg"),g=n(h),E=a("GiK3r5kD"),v=n(E),b=a("2KeSMhYv"),x=a("RH2OZSPu"),N=a("pAQWTaDD"),y=a("6KlIuleq"),k=a("Tui7S30v"),C=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,A.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.member,a=e.wallet,n=e.actions,l=e.property;t.memberId&&!a&&n.fetchWallet(),l||n.fetchProperty()}},{key:"getKFMobile",value:function(){var e=this.props.property;return-1!==(void 0===e?[]:e).findIndex(function(e){return"PROJECT_LH"==e.content&&1==e.subType})?"400-708-0080":"400-081-8181"}},{key:"render",value:function(){var e=this,t=this.props,a=t.member,n=t.project,l=t.wallet;return v.default.createElement(N.View,{className:g.default.home},v.default.createElement(N.Header,null,v.default.createElement("a",{className:"menu",onClick:function(){return e.props.history.go(-1)}},v.default.createElement("i",{className:"icon"},"")),v.default.createElement(N.Title,{title:"我的"})),v.default.createElement(N.Content,null,v.default.createElement(N.BLink,{className:"banner",to:"/account/settings"},v.default.createElement("div",{className:"list compact"},v.default.createElement("div",{className:"item"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"60",src:y.Filter.figure(a.memberAvatar,120,120)})),v.default.createElement("div",{className:"text text-md"},v.default.createElement("h4",null,a.memberName||"访客"),v.default.createElement("div",{className:"brief"},a.memberMobile)),v.default.createElement("i",{className:"icon text-white"},"")))),v.default.createElement("div",{className:"list compact"},v.default.createElement("a",{className:"item",href:"/wallet"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/image-4e820acc-09a5-41df-952d-67ad09c69f5b.png"})),v.default.createElement("span",{className:"text"},"我的钱包"),l&&l.slogan.length>0&&v.default.createElement("span",{className:"extra text-sm"},v.default.createElement("span",{className:"text-driving"},l.slogan[0])),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("div",{className:"item thread split text-sm","ui-mode":"10px 0px"},v.default.createElement("a",{className:"text text-dark text-center",href:"/wallet/records"},v.default.createElement("p",null,y.Filter.currency(l?l.account.availableAmount:0,2)),v.default.createElement("p",null,"账户余额")),v.default.createElement(N.BLink,{className:"text text-dark text-center",to:"/integral"},v.default.createElement("p",null,l?l.accountIntegral:0),v.default.createElement("p",null,"我的积分")),v.default.createElement(N.BLink,{className:"text text-dark text-center",to:"/account/coupons"},v.default.createElement("p",null,y.Filter.currency(l?l.accountQdTicket:0,2)),v.default.createElement("p",null,"千丁券")))),v.default.createElement("div",{className:"list"},v.default.createElement("a",{className:"item",href:"/location"},v.default.createElement("i",{className:"icon"},""),v.default.createElement("div",{className:"text"},"我的社区"),v.default.createElement("span",{className:"extra"},n.name),v.default.createElement("i",{className:"icon text-gray"},""))),v.default.createElement("div",{className:"list"},v.default.createElement(N.BLink,{className:"item",to:"/account/orders"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/899826a5bde2edb56611b67b0ba7c7ae.png"})),v.default.createElement("div",{className:"text"},"我的订单"),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement(N.BLink,{className:"item",to:"/account/addresses"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/41a2bbb947f173727de845f70f7c36ab.png"})),v.default.createElement("div",{className:"text"},"收货地址"),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("a",{className:"item",href:"/shopping/cart"},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/f15e58120c2c48a10ea98680ec7eb1b5.png"})),v.default.createElement("div",{className:"text"},"我的购物车"),v.default.createElement("i",{className:"icon text-gray"},""))),v.default.createElement("div",{className:"list"},v.default.createElement("a",{className:"item",onClick:function(){return y.JSBridge.meiqia()}},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/8831d827cfbbae61cc86183f905a7354.png"})),v.default.createElement("div",{className:"text"},"在线客服"),v.default.createElement("i",{className:"icon text-gray"},"")),v.default.createElement("a",{className:"item",href:"tel:"+this.getKFMobile()},v.default.createElement("div",{className:"avatar"},v.default.createElement("img",{width:"16",src:"//img1.qdingnet.com/b5704e34f73d3b70593934548a771b5c.png"})),v.default.createElement("div",{className:"text"},"客服热线"),v.default.createElement("span",{className:"text text-right"},this.getKFMobile()),v.default.createElement("i",{className:"icon text-gray"},"")))),v.default.createElement(N.Footer,null,v.default.createElement(N.TabBar,{type:"account"})))}}]),t}(E.Component),w=function(e){return(0,r.default)({},e.modules.account.home,{member:e.member,project:e.project})},B=function(e){return{actions:(0,b.bindActionCreators)(k.actions,e)}};t.default=(0,x.connect)(w,B)(C)},xQROjSzg:function(e,t,a){var n=a("f+ef4lyP");"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a("MTIv0jEu")(n,l);n.locals&&(e.exports=n.locals)}});
//# sourceMappingURL=account.bundle.js.map